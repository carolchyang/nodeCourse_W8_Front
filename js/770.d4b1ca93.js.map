{"version":3,"file":"js/770.d4b1ca93.js","mappings":"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","sources":["webpack://nodecourse/./src/scripts/api.js","webpack://nodecourse/./src/stores/userStore.js","webpack://nodecourse/./src/components/EmptyCardComponent.vue","webpack://nodecourse/./src/components/EmptyCardComponent.vue?fe93","webpack://nodecourse/./src/views/front/FollowListView.vue","webpack://nodecourse/./src/views/front/FollowListView.vue?c254"],"sourcesContent":["import axios from \"axios\";\n\nconst api = process.env.VUE_APP_API;\n\n// Users\nexport const apiUserSignUp = (data) => axios.post(`${api}/user/sign_up`, data);\nexport const apiUserSignIn = (data) => axios.post(`${api}/user/sign_in`, data);\nexport const apiUpdatePassword = (data) =>\n  axios.post(`${api}/user/updatePassword`, data);\nexport const apiGetProfile = () => axios.get(`${api}/user/profile`);\nexport const apiUpdateProfile = (data) =>\n  axios.patch(`${api}/user/profile`, data);\nexport const apiGetLikeList = () => axios.get(`${api}/user/getLikeList`);\nexport const apiCreateFollow = (id) => axios.post(`${api}/user/${id}/follow`);\nexport const apiDelFollow = (id) => axios.delete(`${api}/user/${id}/follow`);\nexport const apiGetFollowingList = () =>\n  axios.get(`${api}/user/getFollowingList`);\n\n// Post\nexport const apiGetPosts = (data) =>\n  axios.get(`${api}/posts`, { params: data });\nexport const apiGetUserPosts = (data, id) =>\n  axios.get(`${api}/posts/user/${id}`, { params: data });\nexport const apiGetPost = (id) => axios.get(`${api}/post/${id}`);\nexport const apiCreatePost = (data) => axios.post(`${api}/post`, data);\nexport const apiDelPost = (id) => axios.delete(`${api}/post/${id}`);\nexport const apiCreateLike = (id) => axios.post(`${api}/post/${id}/like`);\nexport const apiDelLike = (id) => axios.delete(`${api}/post/${id}/like`);\nexport const apiCreateComment = (data, postId) =>\n  axios.post(`${api}/post/${postId}/comment`, data);\nexport const apiDelComment = (commentId) =>\n  axios.delete(`${api}/post/${commentId}/comment`);\n\n// UpLoad\nexport const apiUpLoad = (data, type) =>\n  axios.post(`${api}/upload?type=${type}`, data);\n","import router from \"@/router\";\nimport { defineStore } from \"pinia\";\nimport { apiGetProfile, apiCreateFollow, apiDelFollow } from \"@/scripts/api\";\nimport statusStore from \"./statusStore\";\nimport { clearToken } from \"@/scripts/methods\";\n\nconst status = statusStore();\n\nexport default defineStore(\"userStore\", {\n  state: () => {\n    return {\n      // 個人資料\n      profile: {\n        name: \"\",\n        photo: \"\",\n        gender: \"\",\n        _id: \"\",\n        follows: [],\n        following: [],\n      },\n    };\n  },\n  actions: {\n    // 取得用戶資料\n    async getProfile() {\n      status.isLoading = true;\n      await apiGetProfile()\n        .then((res) => {\n          this.profile = res.data.data;\n          status.isLoading = false;\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content:\n              err.response?.data?.message || \"取得個人資料失敗，請重新登入\",\n          });\n          status.isLoading = false;\n\n          // 若驗證個人資料失敗則強制登出\n          clearToken();\n          router.push(\"/signin\");\n        });\n    },\n    // 更新 profile 資料\n    updateProfileData(data) {\n      this.profile = data;\n    },\n    // 新增追蹤\n    async createFollow(id) {\n      await apiCreateFollow(id)\n        .then(() => {\n          status.pushMessage({\n            style: \"dark\",\n            content: \"已追蹤\",\n          });\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"追蹤失敗\",\n          });\n        });\n    },\n    // 取消追蹤\n    async delFollow(id) {\n      await apiDelFollow(id)\n        .then(() => {\n          status.pushMessage({\n            style: \"dark\",\n            content: \"取消追蹤成功\",\n          });\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"取消追蹤失敗\",\n          });\n        });\n    },\n  },\n});\n","<template>\n  <div class=\"bg-white border border-2 rounded shadow-sm\">\n    <div class=\"p-4 border-bottom border-2 border-dark\">\n      <ul class=\"d-flex\">\n        <li class=\"circle me-2\"></li>\n        <li class=\"circle circle-1 me-2\"></li>\n        <li class=\"circle circle-2\"></li>\n      </ul>\n    </div>\n    <div class=\"py-8 text-center text-light\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"EmptyCardComponent\",\n};\n</script>\n","import { render } from \"./EmptyCardComponent.vue?vue&type=template&id=6e6eea71\"\nimport script from \"./EmptyCardComponent.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyCardComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\主線任務\\\\第八週主線\\\\nodeCourse_W8_Front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <h1 class=\"header\">追蹤名單</h1>\r\n\r\n  <ul class=\"mb-6\">\r\n    <li\r\n      class=\"card customList\"\r\n      v-for=\"(item, key) in follows\"\r\n      :key=\"key\"\r\n      :class=\"{ disabled: !item.user }\"\r\n    >\r\n      <div class=\"d-flex flex-column flex-md-row align-items-center\">\r\n        <img\r\n          :src=\"item.user?.photo\"\r\n          class=\"thumbnail thumbnail-xl d-none d-md-block border-0 me-4\"\r\n          v-if=\"item.user?.photo\"\r\n        />\r\n        <img\r\n          src=\"../../assets/images/user_default.png\"\r\n          class=\"thumbnail thumbnail-xl d-none d-md-block border-0 me-4\"\r\n          v-else\r\n        />\r\n        <div class=\"me-md-auto mb-3 mb-md-0\">\r\n          <div class=\"mb-1 fw-bold\">\r\n            {{ item.user?.name }}\r\n          </div>\r\n          <p class=\"d-none d-md-block text-light fs-6\">\r\n            <span class=\"me-3\"> 追蹤時間：{{ $getTime(item.createdAt) }} </span>\r\n            <span> 已追蹤 {{ $getDiffTime(item.createdAt) }}！ </span>\r\n          </p>\r\n        </div>\r\n        <a\r\n          href=\"#\"\r\n          class=\"d-none d-md-block link-dark me-3 me-sm-9 text-center fw-bold text-decoration-none\"\r\n          @click.prevent=\"toggleFollow(item.user?._id, 'delFollow')\"\r\n        >\r\n          <i class=\"bi bi-trash3 text-primary fs-4 lh-sm\"></i>\r\n\r\n          <span class=\"d-block\">取消</span>\r\n        </a>\r\n        <!-- 若找不到用戶資訊 -->\r\n        <p class=\"text-center fs-6\" v-if=\"!item.user\">\r\n          此用戶\r\n          <span class=\"d-block\">已被刪除</span>\r\n        </p>\r\n        <router-link\r\n          :to=\"{\r\n            path: `/personalwall/${item.user?._id}`,\r\n            query: {\r\n              name: item.user?.name,\r\n              photo: item.user?.photo,\r\n            },\r\n          }\"\r\n          class=\"link-dark me-md-9 text-center fw-bold text-decoration-none\"\r\n          v-else\r\n        >\r\n          <i class=\"bi bi-arrow-right-circle fs-4 lh-sm\"></i>\r\n          <span class=\"d-block\">查看</span>\r\n        </router-link>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n\r\n  <EmptyCardComponent v-if=\"!follows.length\">\r\n    <template #default>目前還未追蹤任何人</template>\r\n  </EmptyCardComponent>\r\n</template>\r\n\r\n<script>\r\nimport EmptyCardComponent from \"@/components/EmptyCardComponent.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { apiGetFollowingList } from \"@/scripts/api\";\r\nimport statusStore from \"@/stores/statusStore\";\r\nimport userStore from \"@/stores/userStore\";\r\n\r\nexport default {\r\n  name: \"FollowListView\",\r\n  data() {\r\n    return {\r\n      follows: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 取得追蹤\r\n    getFollows() {\r\n      this.toggleLoading(true);\r\n      apiGetFollowingList()\r\n        .then((res) => {\r\n          this.toggleLoading(false);\r\n          this.follows = res.data.data;\r\n        })\r\n        .catch((err) => {\r\n          this.toggleLoading(false);\r\n          this.pushMessage({\r\n            style: \"danger\",\r\n            content: err.response?.data?.message || \"取得追蹤失敗\",\r\n          });\r\n        });\r\n    },\r\n    // 切換追蹤狀態\r\n    async toggleFollow(id, toggleType) {\r\n      this.toggleLoading(true);\r\n      await this[toggleType](id);\r\n      await this.getFollows();\r\n      this.toggleLoading(false);\r\n    },\r\n    ...mapActions(statusStore, [\"toggleLoading\", \"pushMessage\"]),\r\n    ...mapActions(userStore, [\"delFollow\"]),\r\n  },\r\n  components: {\r\n    EmptyCardComponent,\r\n  },\r\n  created() {\r\n    this.getFollows();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FollowListView.vue?vue&type=template&id=625d4a4d\"\nimport script from \"./FollowListView.vue?vue&type=script&lang=js\"\nexport * from \"./FollowListView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\主線任務\\\\第八週主線\\\\nodeCourse_W8_Front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["api","process","apiUserSignUp","data","axios","apiUserSignIn","apiUpdatePassword","apiGetProfile","apiUpdateProfile","apiGetLikeList","apiCreateFollow","id","apiDelFollow","apiGetFollowingList","apiGetPosts","params","apiGetUserPosts","apiGetPost","apiCreatePost","apiDelPost","apiCreateLike","apiDelLike","apiCreateComment","postId","apiDelComment","commentId","apiUpLoad","type","status","statusStore","defineStore","state","profile","name","photo","gender","_id","follows","following","actions","async","isLoading","then","res","this","catch","err","pushMessage","style","content","response","message","clearToken","router","updateProfileData","class","_createElementBlock","_hoisted_2","_createElementVNode","_renderSlot","_ctx","__exports__","render","src","_imports_0","_hoisted_11","_hoisted_12","_hoisted_16","_hoisted_1","_Fragment","_renderList","$data","item","key","disabled","user","_toDisplayString","createdAt","href","onClick","$options","_createBlock","_component_router_link","to","_hoisted_18","_hoisted_19","_hoisted_17","length","_component_EmptyCardComponent","default","methods","getFollows","toggleLoading","toggleType","mapActions","userStore","components","EmptyCardComponent","created"],"sourceRoot":""}