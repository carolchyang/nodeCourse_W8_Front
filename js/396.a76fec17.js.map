{"version":3,"file":"js/396.a76fec17.js","mappings":"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","sources":["webpack://nodecourse/./src/scripts/api.js","webpack://nodecourse/./src/views/SignInView.vue","webpack://nodecourse/./src/views/SignInView.vue?f79a"],"sourcesContent":["import axios from \"axios\";\n\nconst api = process.env.VUE_APP_API;\n\n// Users\nexport const apiUserSignUp = (data) => axios.post(`${api}/user/sign_up`, data);\nexport const apiUserSignIn = (data) => axios.post(`${api}/user/sign_in`, data);\nexport const apiUpdatePassword = (data) =>\n  axios.post(`${api}/user/updatePassword`, data);\nexport const apiGetProfile = () => axios.get(`${api}/user/profile`);\nexport const apiUpdateProfile = (data) =>\n  axios.patch(`${api}/user/profile`, data);\nexport const apiGetLikeList = () => axios.get(`${api}/user/getLikeList`);\nexport const apiCreateFollow = (id) => axios.post(`${api}/user/${id}/follow`);\nexport const apiDelFollow = (id) => axios.delete(`${api}/user/${id}/follow`);\nexport const apiGetFollowingList = () =>\n  axios.get(`${api}/user/getFollowingList`);\n\n// Post\nexport const apiGetPosts = (data) =>\n  axios.get(`${api}/posts`, { params: data });\nexport const apiGetUserPosts = (data, id) =>\n  axios.get(`${api}/posts/user/${id}`, { params: data });\nexport const apiGetPost = (id) => axios.get(`${api}/post/${id}`);\nexport const apiCreatePost = (data) => axios.post(`${api}/post`, data);\nexport const apiDelPost = (id) => axios.delete(`${api}/post/${id}`);\nexport const apiCreateLike = (id) => axios.post(`${api}/post/${id}/like`);\nexport const apiDelLike = (id) => axios.delete(`${api}/post/${id}/like`);\nexport const apiCreateComment = (data, postId) =>\n  axios.post(`${api}/post/${postId}/comment`, data);\nexport const apiDelComment = (commentId) =>\n  axios.delete(`${api}/post/${commentId}/comment`);\n\n// UpLoad\nexport const apiUpLoad = (data, type) =>\n  axios.post(`${api}/upload?type=${type}`, data);\n","<template>\r\n  <section class=\"d-flex justify-content-center align-items-center vh-100 mx-3\">\r\n    <div class=\"signin\">\r\n      <img src=\"../assets/images/signin.png\" class=\"d-none d-xl-block me-10\" />\r\n      <VForm\r\n        class=\"signIn\"\r\n        v-slot=\"{ errors, meta }\"\r\n        @submit=\"signIn\"\r\n        ref=\"form\"\r\n      >\r\n        <img src=\"../assets/images/MetaWall.png\" class=\"mx-auto\" />\r\n        <h1 class=\"mb-9 text-center h3\">到元宇宙展開全新社交圈</h1>\r\n        <div class=\"mb-4\">\r\n          <VField\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"電子信箱\"\r\n            placeholder=\"請輸入電子信箱\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['電子信箱'] }\"\r\n            rules=\"email|required\"\r\n            v-model=\"user.email\"\r\n            required\r\n          ></VField>\r\n          <error-message\r\n            name=\"電子信箱\"\r\n            class=\"invalid-feedback text-danger\"\r\n          ></error-message>\r\n        </div>\r\n        <div class=\"mb-8\">\r\n          <VField\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"請輸入密碼\"\r\n            name=\"密碼\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['密碼'] }\"\r\n            rules=\"required|password:8\"\r\n            v-model=\"user.password\"\r\n            required\r\n          ></VField>\r\n          <error-message\r\n            name=\"密碼\"\r\n            class=\"invalid-feedback text-danger\"\r\n          ></error-message>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"effectBtn btn btn-primary w-100 mb-4\"\r\n          :disabled=\"!meta.valid\"\r\n        >\r\n          登入\r\n        </button>\r\n        <router-link to=\"/signup\" class=\"link-dark mb-10 text-center\">\r\n          註冊帳號\r\n        </router-link>\r\n      </VForm>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"pinia\";\r\nimport statusStore from \"@/stores/statusStore\";\r\nimport { setToken } from \"@/scripts/methods\";\r\nimport { apiUserSignIn } from \"@/scripts/api\";\r\n\r\nexport default {\r\n  name: \"SignInView\",\r\n  data() {\r\n    return {\r\n      user: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 登入\r\n    signIn() {\r\n      this.toggleLoading(true);\r\n      apiUserSignIn(this.user)\r\n        .then((res) => {\r\n          // 設定 token\r\n          const { token } = res.data.data;\r\n          setToken(token);\r\n\r\n          // 重置表單\r\n          this.$refs.form.resetForm();\r\n\r\n          this.toggleLoading(false);\r\n\r\n          // 轉至全體動態牆頁面\r\n          this.$router.push({ name: \"DynamicWallView\" });\r\n        })\r\n        .catch((err) => {\r\n          this.pushMessage({\r\n            style: \"danger\",\r\n            content: err.response?.data?.message || \"登入失敗\",\r\n          });\r\n          this.toggleLoading(false);\r\n        });\r\n    },\r\n    ...mapActions(statusStore, [\"toggleLoading\", \"pushMessage\"]),\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./SignInView.vue?vue&type=template&id=9b6ceff2\"\nimport script from \"./SignInView.vue?vue&type=script&lang=js\"\nexport * from \"./SignInView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\主線任務\\\\第八週主線\\\\nodeCourse_W8_Front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["api","process","apiUserSignUp","data","axios","apiUserSignIn","apiUpdatePassword","apiGetProfile","apiUpdateProfile","apiGetLikeList","apiCreateFollow","id","apiDelFollow","apiGetFollowingList","apiGetPosts","params","apiGetUserPosts","apiGetPost","apiCreatePost","apiDelPost","apiCreateLike","apiDelLike","apiCreateComment","postId","apiDelComment","commentId","apiUpLoad","type","class","_createElementVNode","src","_imports_0","_imports_1","_createElementBlock","_hoisted_3","_createVNode","_component_VForm","onSubmit","$options","ref","errors","meta","_hoisted_4","_hoisted_5","_component_VField","name","placeholder","rules","$data","email","$event","required","_component_error_message","password","disabled","valid","_hoisted_8","_component_router_link","to","user","methods","signIn","this","toggleLoading","then","res","token","setToken","$refs","form","resetForm","$router","push","catch","err","pushMessage","style","content","response","message","mapActions","statusStore","__exports__","render"],"sourceRoot":""}